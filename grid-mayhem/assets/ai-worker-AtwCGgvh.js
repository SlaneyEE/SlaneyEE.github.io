const a0_0x54cd69=a0_0x474e;(function(_0x5e6d4b,_0xd8ad0){const _0x41c01c=a0_0x474e,_0x5b20b9=_0x5e6d4b();while(!![]){try{const _0x38ea1c=-parseInt(_0x41c01c(0xe2))/0x1+-parseInt(_0x41c01c(0xd3))/0x2+parseInt(_0x41c01c(0xbe))/0x3*(-parseInt(_0x41c01c(0xb9))/0x4)+parseInt(_0x41c01c(0xdb))/0x5+-parseInt(_0x41c01c(0xdc))/0x6+parseInt(_0x41c01c(0xbf))/0x7+-parseInt(_0x41c01c(0xe4))/0x8*(-parseInt(_0x41c01c(0xdf))/0x9);if(_0x38ea1c===_0xd8ad0)break;else _0x5b20b9['push'](_0x5b20b9['shift']());}catch(_0x5e181c){_0x5b20b9['push'](_0x5b20b9['shift']());}}}(a0_0x3e1c,0x9a012));const I={'NORMAL':a0_0x54cd69(0xe5),'BRONZE':a0_0x54cd69(0xce),'SILVER':a0_0x54cd69(0xd4),'GOLD':'GOLD','DIAMOND':a0_0x54cd69(0xe7)},O={'Basic':a0_0x54cd69(0xb1),'Square':a0_0x54cd69(0xb5),'LShapeLeft':a0_0x54cd69(0xb7),'LShapeRight':a0_0x54cd69(0xa9),'TShape':a0_0x54cd69(0xd9),'Line':a0_0x54cd69(0xc6),'ZShapeLeft':a0_0x54cd69(0xa0),'ZShapeRight':a0_0x54cd69(0xbd),'UShape':'UShape','CornerShape':a0_0x54cd69(0xa2),'PlusShape':a0_0x54cd69(0xd1)},N={'SELF_REDUCE_SPEED':a0_0x54cd69(0xa3),'SELF_RAINBOW_BLOCK':'SELF_RAINBOW_BLOCK','SELF_REMOVE_EFFECT_BLOCKS':'SELF_REMOVE_EFFECT_BLOCKS','SELF_NUKE':'SELF_NUKE','SELF_TNT_BLOCK':a0_0x54cd69(0xcb),'ENEMY_BLACK_BLOCK':a0_0x54cd69(0xd7),'ENEMY_INCREASE_SPEED':'ENEMY_INCREASE_SPEED','ENEMY_BLIND':a0_0x54cd69(0xb4),'ENEMY_BLEACH':a0_0x54cd69(0xe0),'ENEMY_MIRROR':a0_0x54cd69(0xc7)},Ye=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x1,0x0,0x0],[0x1,0x1,0x0,0x0]],$e=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x1,0x0,0x0]],Xe=[[0x0,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0]],Fe=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0]],Ke=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x1,0x0,0x0],[0x0,0x1,0x1,0x0]],de=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x1,0x1,0x0],[0x1,0x1,0x0,0x0]],Ve=[[0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x1,0x0,0x0]],qe=[[0x0,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x0,0x0]],Ze=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x0,0x0]],je=[[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0]],Qe=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x1],[0x1,0x1,0x1,0x1]],Je={[O[a0_0x54cd69(0xb1)]]:Fe,[O[a0_0x54cd69(0xb5)]]:Ye,[O[a0_0x54cd69(0xb7)]]:qe,[O[a0_0x54cd69(0xa9)]]:Ve,[O['TShape']]:Ze,[O[a0_0x54cd69(0xc6)]]:je,[O['ZShapeLeft']]:Ke,[O[a0_0x54cd69(0xbd)]]:de,[O[a0_0x54cd69(0x98)]]:Qe,[O['CornerShape']]:$e,[O['PlusShape']]:Xe};function m(_0x670c8,_0x36e5a1,_0x114b4b){const _0x7878bc=a0_0x54cd69;return _0x670c8+(_0x36e5a1-_0x670c8)*Math[_0x7878bc(0xe1)](0x0,Math[_0x7878bc(0xb0)](0x1,_0x114b4b));}function ze(_0x4dc158){const _0x3eb4a5=a0_0x54cd69,_0x246e55=_0x4dc158[_0x3eb4a5(0xda)],_0x55eeb4=Array[_0x3eb4a5(0xe6)]({'length':_0x246e55},()=>Array(_0x246e55)[_0x3eb4a5(0xba)](0x0));for(let _0x2368b0=0x0;_0x2368b0<_0x246e55;_0x2368b0++)for(let _0x1938e0=0x0;_0x1938e0<_0x246e55;_0x1938e0++)_0x55eeb4[_0x1938e0][_0x246e55-0x1-_0x2368b0]=_0x4dc158[_0x2368b0][_0x1938e0];return _0x55eeb4;}function J(_0x29c942,_0x297adb){const _0xfcbb83=a0_0x54cd69;let _0xbc1561=Je[_0x29c942][_0xfcbb83(0x9f)](_0x58fad4=>[..._0x58fad4]);const _0xce88a3=_0x297adb/0x5a;for(let _0x2c11bf=0x0;_0x2c11bf<_0xce88a3;_0x2c11bf++)_0xbc1561=ze(_0xbc1561);return _0xbc1561;}function H(_0x52a02f,_0x64f670,_0x3793cc){const _0x25e712=a0_0x54cd69,_0x4b1bc6=[];let _0x24700b=_0x52a02f[_0x25e712(0xda)]-0x1;for(let _0x88856e=_0x52a02f['length']-0x1;_0x88856e>=0x0;_0x88856e--)if(_0x52a02f[_0x88856e][_0x25e712(0xa1)](_0x3a5a19=>_0x3a5a19===0x1)){_0x24700b=_0x88856e;break;}for(let _0x20efda=0x0;_0x20efda<_0x52a02f[_0x25e712(0xda)];_0x20efda++)for(let _0x4f0c62=0x0;_0x4f0c62<_0x52a02f[_0x20efda][_0x25e712(0xda)];_0x4f0c62++)_0x52a02f[_0x20efda][_0x4f0c62]===0x1&&_0x4b1bc6[_0x25e712(0xcc)]({'x':_0x64f670+_0x4f0c62,'y':_0x3793cc+(_0x24700b-_0x20efda)});return _0x4b1bc6;}function G(_0x39cd30,_0x44e59d,_0x2b0cc7,_0x31a065=0xe,_0x1a2f1e=0x1e){for(let _0x2aa733=_0x1a2f1e;_0x2aa733>=0x0;_0x2aa733--){const _0x1f7f47=H(_0x39cd30,_0x44e59d,_0x2aa733);let _0x47cc2c=!0x0;for(const _0x2f35f1 of _0x1f7f47){if(_0x2f35f1['x']<0x0||_0x2f35f1['x']>=_0x31a065||_0x2f35f1['y']<0x0){_0x47cc2c=!0x1;break;}if(_0x2f35f1['y']<_0x2b0cc7['length']&&_0x2b0cc7[_0x2f35f1['y']][_0x2f35f1['x']]===0x1){_0x47cc2c=!0x1;break;}}if(!_0x47cc2c)continue;const _0xd1d95c=H(_0x39cd30,_0x44e59d,_0x2aa733-0x1);let _0x5e9400=!0x0;for(const _0x4b0d33 of _0xd1d95c){if(_0x4b0d33['x']<0x0||_0x4b0d33['x']>=_0x31a065||_0x4b0d33['y']<0x0){_0x5e9400=!0x1;break;}if(_0x4b0d33['y']<_0x2b0cc7['length']&&_0x2b0cc7[_0x4b0d33['y']][_0x4b0d33['x']]===0x1){_0x5e9400=!0x1;break;}}if(!_0x5e9400)return _0x2aa733;}return 0x0;}function We(_0x34906d,_0x55f4ca=0xe){const _0x6c78=a0_0x54cd69;let _0x595d81=0x0;for(let _0xa3686d=0x0;_0xa3686d<_0x34906d[_0x6c78(0xda)];_0xa3686d++){let _0x57ba14=!0x0;for(let _0x2f0b05=0x0;_0x2f0b05<_0x55f4ca;_0x2f0b05++)if(_0x34906d[_0xa3686d][_0x2f0b05]!==0x1){_0x57ba14=!0x1;break;}_0x57ba14&&_0x595d81++;}return _0x595d81;}function B(_0x417019,_0x6a40d4=0xe){let _0x519d43=0x0;for(let _0x4ed1ee=0x0;_0x4ed1ee<_0x6a40d4;_0x4ed1ee++){let _0x14ff47=!0x1;for(let _0xa95c43=_0x417019['length']-0x1;_0xa95c43>=0x0;_0xa95c43--)_0x417019[_0xa95c43][_0x4ed1ee]===0x1?_0x14ff47=!0x0:_0x14ff47&&_0x417019[_0xa95c43][_0x4ed1ee]===0x0&&_0x519d43++;}return _0x519d43;}function et(_0x2b391d,_0x318fc2,_0x49c730=0xe){const _0x3a6076=a0_0x54cd69;let _0x442615=0x0;for(const _0xa68d69 of _0x318fc2)if(!(_0xa68d69['x']<0x0||_0xa68d69['x']>=_0x49c730)){for(let _0x2e0320=_0xa68d69['y']-0x1;_0x2e0320>=0x0;_0x2e0320--)if(!(_0x2e0320>=_0x2b391d[_0x3a6076(0xda)])&&_0x2b391d[_0x2e0320][_0xa68d69['x']]===0x0){let _0x49e967=!0x1;for(let _0x1d585c=_0x2e0320-0x1;_0x1d585c>=0x0;_0x1d585c--)if(_0x1d585c<_0x2b391d[_0x3a6076(0xda)]&&_0x2b391d[_0x1d585c][_0xa68d69['x']]===0x1){_0x49e967=!0x0;break;}if(_0x49e967){_0x442615++;break;}}}return _0x442615;}function d(_0x244b60,_0x3cd1a8=0xe){let _0x265442=0x0;for(let _0x1329cf=0x0;_0x1329cf<_0x3cd1a8;_0x1329cf++){let _0x3e8ee2=0x0;for(let _0x1f6495=_0x244b60['length']-0x1;_0x1f6495>=0x0;_0x1f6495--)_0x244b60[_0x1f6495][_0x1329cf]===0x1?_0x3e8ee2++:_0x3e8ee2>0x0&&_0x3e8ee2>=0x3&&(_0x265442+=_0x3e8ee2);}return _0x265442;}function V(_0x4d3b89,_0x3e88fb=0xe){const _0x343a85=a0_0x54cd69;let _0x3be537=0x0;for(let _0x5ded22=0x0;_0x5ded22<_0x3e88fb;_0x5ded22++){let _0x5f2019=!0x1,_0x5425f2=!0x1;for(let _0x95b947=_0x4d3b89[_0x343a85(0xda)]-0x1;_0x95b947>=0x0;_0x95b947--)if(_0x4d3b89[_0x95b947][_0x5ded22]===0x1)_0x5f2019=!0x0;else{if(_0x5f2019){_0x5425f2=!0x0;break;}}_0x5425f2&&_0x3be537++;}return _0x3be537;}function tt(_0x744e86,_0x195305,_0x3fed2a,_0x5f0235=0xe){if(_0x3fed2a===0x0)return 0x0;const _0x1b1ee1=B(_0x744e86,_0x5f0235),_0x410987=B(_0x195305,_0x5f0235),_0x564385=_0x1b1ee1-_0x410987;let _0x3cb176=0x0;return _0x564385>0x0&&(_0x3cb176+=_0x564385*0x1f4),_0x1b1ee1>0x0&&(_0x3cb176+=_0x3fed2a*0xc8),_0x3cb176;}function nt(_0x1692ff,_0x5740ea=0xe){const _0x13bfa7=a0_0x54cd69,_0x1eec45=[];for(let _0x1c4b4b=0x0;_0x1c4b4b<_0x5740ea;_0x1c4b4b++){let _0x54936c=0x0;for(let _0x15a19e=_0x1692ff[_0x13bfa7(0xda)]-0x1;_0x15a19e>=0x0;_0x15a19e--)if(_0x1692ff[_0x15a19e][_0x1c4b4b]===0x1){_0x54936c=_0x15a19e+0x1;break;}_0x1eec45[_0x13bfa7(0xcc)](_0x54936c);}let _0x16e12a=0x0;for(let _0x2d2202=0x0;_0x2d2202<_0x1eec45[_0x13bfa7(0xda)]-0x1;_0x2d2202++)_0x16e12a+=Math[_0x13bfa7(0xab)](_0x1eec45[_0x2d2202]-_0x1eec45[_0x2d2202+0x1]);return _0x16e12a;}function ot(_0x3672be){const _0x1bfb38=a0_0x54cd69;for(let _0x2fabba=_0x3672be[_0x1bfb38(0xda)]-0x1;_0x2fabba>=0x0;_0x2fabba--)if(_0x3672be[_0x2fabba][_0x1bfb38(0xa1)](_0xc006c1=>_0xc006c1===0x1))return _0x2fabba+0x1;return 0x0;}function st(_0x346969,_0x228240=0xe){const _0x463229=a0_0x54cd69,_0x33ed95=[];for(let _0x476df7=0x0;_0x476df7<_0x228240;_0x476df7++){let _0x58987f=0x0;for(let _0x315bc6=_0x346969[_0x463229(0xda)]-0x1;_0x315bc6>=0x0;_0x315bc6--)if(_0x346969[_0x315bc6][_0x476df7]===0x1){_0x58987f=_0x315bc6+0x1;break;}_0x33ed95[_0x463229(0xcc)](_0x58987f);}const _0x3d6124=_0x33ed95[_0x463229(0x9d)]((_0x386e62,_0x54a7f7)=>_0x386e62+_0x54a7f7,0x0)/_0x33ed95[_0x463229(0xda)],_0x2f93b9=_0x33ed95['reduce']((_0x79c9ad,_0x451b0a)=>_0x79c9ad+(_0x451b0a-_0x3d6124)**0x2,0x0)/_0x33ed95[_0x463229(0xda)];return Math[_0x463229(0x9c)](_0x2f93b9);}function ct(_0x56c439,_0x525aea=0xe){const _0xbbe330=a0_0x54cd69,_0x157fc6=[];for(let _0x5d57eb=0x0;_0x5d57eb<_0x525aea;_0x5d57eb++){let _0x1468e6=0x0;for(let _0x130adc=_0x56c439['length']-0x1;_0x130adc>=0x0;_0x130adc--)if(_0x56c439[_0x130adc][_0x5d57eb]===0x1){_0x1468e6=_0x130adc+0x1;break;}_0x157fc6[_0xbbe330(0xcc)](_0x1468e6);}const _0x350625=Math[_0xbbe330(0xb0)](..._0x157fc6),_0x1b07aa=Math[_0xbbe330(0xe1)](..._0x157fc6),_0x2a4e69=_0x157fc6[_0xbbe330(0x9d)]((_0x3f54b7,_0x23932c)=>_0x3f54b7+_0x23932c,0x0)/_0x525aea;let _0xdf669c=0x0;const _0x4441fd=_0x1b07aa-_0x350625;_0x4441fd>=0x3&&(_0xdf669c+=(_0x4441fd-0x2)*(_0x4441fd-0x2)*0x2);for(const _0x11a81d of _0x157fc6){const _0x35f28b=Math[_0xbbe330(0xab)](_0x11a81d-_0x2a4e69);_0x35f28b>=0x2&&(_0xdf669c+=_0x35f28b*_0x35f28b);}for(let _0xd0d630=0x1;_0xd0d630<_0x525aea-0x1;_0xd0d630++)_0x157fc6[_0xd0d630]>_0x157fc6[_0xd0d630-0x1]+0x1&&_0x157fc6[_0xd0d630]>_0x157fc6[_0xd0d630+0x1]+0x1&&(_0xdf669c+=(_0x157fc6[_0xd0d630]-Math['min'](_0x157fc6[_0xd0d630-0x1],_0x157fc6[_0xd0d630+0x1]))*0x3);return _0xdf669c;}function lt(_0x20fdc8,_0xde64e5=0xe,_0x2aafe1=0x1e){const _0x565e95=a0_0x54cd69;let _0x5dff1f=0x0;for(let _0x50dcf=0x0;_0x50dcf<Math[_0x565e95(0xb0)](_0x20fdc8[_0x565e95(0xda)],_0x2aafe1);_0x50dcf++)for(let _0x30b7ec=0x0;_0x30b7ec<_0xde64e5;_0x30b7ec++)_0x20fdc8[_0x50dcf][_0x30b7ec]===0x1&&_0x5dff1f++;return _0x5dff1f;}function rt(_0x5efe5c,_0x1883ce,_0x5cd2be=0xe){const _0x3c6a3b=a0_0x54cd69;let _0x534a98=0x0;const _0x5164e6=new Set(_0x1883ce[_0x3c6a3b(0x9f)](_0x196f01=>_0x196f01['y']));for(const _0x477513 of _0x5164e6){if(_0x477513<0x0||_0x477513>=_0x5efe5c[_0x3c6a3b(0xda)])continue;let _0x1ab9d0=0x0;for(let _0x33e372=0x0;_0x33e372<_0x5cd2be;_0x33e372++)_0x5efe5c[_0x477513][_0x33e372]===0x1&&_0x1ab9d0++;const _0x14c245=_0x1883ce[_0x3c6a3b(0x9b)](_0x27d99a=>_0x27d99a['y']===_0x477513)[_0x3c6a3b(0xda)],_0x3aa1cc=_0x1ab9d0+_0x14c245,_0x49c3fc=_0x3aa1cc/_0x5cd2be;_0x49c3fc>=0.7&&(_0x534a98+=_0x49c3fc*_0x49c3fc*0xa),_0x3aa1cc===_0x5cd2be&&(_0x534a98+=0x14);}return _0x534a98;}function ft(_0x14a24e,_0x32af9b,_0x5c0727=0xe){const _0x2a7274=a0_0x54cd69;let _0x4a5e9f=0x0;const _0x3b0eb4=new Set(_0x32af9b[_0x2a7274(0x9f)](_0x583623=>_0x583623['x']+','+_0x583623['y']));for(const _0x4b5f27 of _0x32af9b){const _0x4b6ee0=_0x4b5f27['y']-0x1;if(_0x4b6ee0>0x0){const _0x4c786f=_0x4b5f27['x']+','+_0x4b6ee0;if(!_0x3b0eb4[_0x2a7274(0xd2)](_0x4c786f)&&(_0x4b6ee0>=_0x14a24e[_0x2a7274(0xda)]||_0x14a24e[_0x4b6ee0][_0x4b5f27['x']]===0x0)){_0x4a5e9f-=0xa;continue;}}const _0x36b631=[{'dx':-0x1,'dy':0x0,'isWall':_0x4b5f27['x']===0x0},{'dx':0x1,'dy':0x0,'isWall':_0x4b5f27['x']===_0x5c0727-0x1},{'dx':0x0,'dy':-0x1,'isWall':_0x4b5f27['y']===0x0},{'dx':0x0,'dy':0x1,'isWall':!0x1}];for(const _0x46a875 of _0x36b631){if(_0x46a875[_0x2a7274(0xbb)]){_0x4a5e9f+=0x3;continue;}const _0x211d3e=_0x4b5f27['x']+_0x46a875['dx'],_0xef3d=_0x4b5f27['y']+_0x46a875['dy'];_0x3b0eb4[_0x2a7274(0xd2)](_0x211d3e+','+_0xef3d)||_0xef3d>=0x0&&_0xef3d<_0x14a24e[_0x2a7274(0xda)]&&_0x211d3e>=0x0&&_0x211d3e<_0x5c0727&&_0x14a24e[_0xef3d][_0x211d3e]===0x1&&(_0x46a875['dy']===0x0?_0x4a5e9f+=0x5:_0x4a5e9f+=0x2);}}return _0x4a5e9f;}function at(_0xb45230,_0x558f05,_0xf1a680=0xe){const _0x4a66c4=a0_0x54cd69,_0x11a953=[];for(let _0x50f06b=0x0;_0x50f06b<_0xf1a680;_0x50f06b++){let _0x35d136=0x0;for(let _0x5f2e21=_0xb45230[_0x4a66c4(0xda)]-0x1;_0x5f2e21>=0x0;_0x5f2e21--)if(_0xb45230[_0x5f2e21][_0x50f06b]===0x1){_0x35d136=_0x5f2e21+0x1;break;}_0x11a953[_0x4a66c4(0xcc)](_0x35d136);}let _0x585a28=0x0;const _0x56360e=new Set(_0x558f05['map'](_0x5b405e=>_0x5b405e['x']));for(const _0x476092 of _0x56360e){if(_0x476092<0x0||_0x476092>=_0xf1a680)continue;const _0x2070d8=_0x11a953[_0x476092],_0x4ef8e3=_0x476092>0x0?_0x11a953[_0x476092-0x1]:_0x2070d8+0x5,_0x3acc8e=_0x476092<_0xf1a680-0x1?_0x11a953[_0x476092+0x1]:_0x2070d8+0x5,_0x1c51dd=Math[_0x4a66c4(0xb0)](_0x4ef8e3,_0x3acc8e)-_0x2070d8;if(_0x1c51dd>=0x2){const _0x2cee5c=_0x558f05[_0x4a66c4(0x9b)](_0x148e93=>_0x148e93['x']===_0x476092),_0x1df456=Math[_0x4a66c4(0xb0)](..._0x2cee5c['map'](_0x31ccb7=>_0x31ccb7['y'])),_0xc999d0=Math[_0x4a66c4(0xe1)](..._0x2cee5c['map'](_0x380680=>_0x380680['y']))-_0x1df456+0x1;_0x585a28+=_0x1c51dd*0xf+_0xc999d0*0xa,_0x4ef8e3>_0x2070d8&&_0x3acc8e>_0x2070d8&&(_0x585a28+=_0x1c51dd*0xa);}}return _0x585a28;}function a0_0x3e1c(){const _0x4804a0=['map','ZShapeLeft','some','CornerShape','SELF_REDUCE_SPEED','gridHeight','occupancy','ENEMY_INCREASE_SPEED','SELF_RAINBOW_BLOCK','postMessage','LShapeRight','bonus','abs','shift','data','gridWidth','nextNextBlock','min','Basic','slice','state','ENEMY_BLIND','Square','SELF_NUKE','LShapeLeft','ERROR','7996wVslbO','fill','isWall','pop','ZShapeRight','1887RLrNEa','1161909pKuvgJ','sort','type','COMPUTE','swapBlock','colorBonusScore','every','Line','ENEMY_MIRROR','READY','message','score','SELF_TNT_BLOCK','push','blockType','BRONZE','tier','currentBlock','PlusShape','has','1770054LdKPcG','SILVER','colorMatrix','color','ENEMY_BLACK_BLOCK','linesCleared','TShape','length','1133485ivwnQO','5204586ThXPsa','SELF_REMOVE_EFFECT_BLOCKS','rotation','16749acZhEw','ENEMY_BLEACH','max','1177511sWGOpu','nextBlock','19024BQWSAa','NORMAL','from','DIAMOND','powerUps','UShape','add','RESULT','filter','sqrt','reduce','penalty'];a0_0x3e1c=function(){return _0x4804a0;};return a0_0x3e1c();}function it(_0x54e14f,_0x52ceaf,_0x34b9da=0xe){const _0x588f08=a0_0x54cd69,_0x37b1dc=[],_0x441593=new Set(_0x52ceaf[_0x588f08(0x9f)](_0x6b6a6d=>_0x6b6a6d['x']+','+_0x6b6a6d['y']));for(let _0x2c39a0=0x0;_0x2c39a0<_0x34b9da;_0x2c39a0++){let _0x127882=0x0;for(let _0x15ce05=_0x54e14f[_0x588f08(0xda)]-0x1;_0x15ce05>=0x0;_0x15ce05--)if(_0x54e14f[_0x15ce05][_0x2c39a0]===0x1||_0x441593[_0x588f08(0xd2)](_0x2c39a0+','+_0x15ce05)){_0x127882=_0x15ce05+0x1;break;}_0x37b1dc['push'](_0x127882);}let _0x10c28f=0x0;const _0x378502=_0x37b1dc[_0x588f08(0x9d)]((_0x479610,_0x358b1f)=>_0x479610+_0x358b1f,0x0)/_0x34b9da,_0xec978d=Math['min'](..._0x37b1dc),_0xbda1eb=Math[_0x588f08(0xe1)](..._0x37b1dc),_0x11c597=_0xbda1eb-_0xec978d;_0x11c597>=0x4&&(_0x10c28f+=(_0x11c597-0x3)*(_0x11c597-0x3)*0x14);for(let _0x385392=0x0;_0x385392<_0x34b9da;_0x385392++){const _0x143d0a=_0x37b1dc[_0x385392],_0x1e2f62=_0x385392>0x0?_0x37b1dc[_0x385392-0x1]:_0x143d0a,_0x32161e=_0x385392<_0x34b9da-0x1?_0x37b1dc[_0x385392+0x1]:_0x143d0a,_0x29b77b=(_0x1e2f62+_0x32161e)/0x2,_0xe32cce=_0x143d0a-_0x29b77b;_0xe32cce>=0x2&&(_0x10c28f+=_0xe32cce*_0xe32cce*0xf,_0x143d0a>_0x1e2f62&&_0x143d0a>_0x32161e&&(_0x10c28f+=_0xe32cce*0x19));const _0xe111b1=_0x143d0a-_0x378502;_0xe111b1>=0x3&&(_0x10c28f+=_0xe111b1*_0xe111b1*0x8);const _0x1847af=_0x143d0a-_0xec978d;_0x1847af>=0x5&&(_0x10c28f+=(_0x1847af-0x4)*(_0x1847af-0x4)*0xc);}const _0x20f2eb=new Set(_0x52ceaf['map'](_0x529837=>_0x529837['x']));for(const _0x1531dc of _0x20f2eb)_0x1531dc<0x0||_0x1531dc>=_0x34b9da||_0x37b1dc[_0x1531dc]===_0xbda1eb&&_0x37b1dc[_0x1531dc]>_0x378502+0x2&&(_0x10c28f+=0x32);return _0x10c28f;}function ut(_0x1b4b7d,_0x470881,_0x18f20c=0xe){const _0x567eb5=a0_0x54cd69,_0x168f4b=new Set(_0x470881[_0x567eb5(0x9f)](_0x44b630=>_0x44b630['x']+','+_0x44b630['y'])),_0x15e572=[];for(let _0x554b13=0x0;_0x554b13<_0x18f20c;_0x554b13++){let _0x5cb1bc=0x0;for(let _0x311aa5=_0x1b4b7d['length']-0x1;_0x311aa5>=0x0;_0x311aa5--)if(_0x1b4b7d[_0x311aa5][_0x554b13]===0x1||_0x168f4b[_0x567eb5(0xd2)](_0x554b13+','+_0x311aa5)){_0x5cb1bc=_0x311aa5+0x1;break;}_0x15e572[_0x567eb5(0xcc)](_0x5cb1bc);}let _0x3f631b=0x0,_0x2951b7=0x0;const _0x555ac6=_0x15e572[0x0],_0x51e560=_0x15e572[_0x18f20c-0x1],_0x2a257b=_0x15e572[_0x567eb5(0xb2)](0x1,-0x1),_0x115f64=_0x2a257b[_0x567eb5(0x9d)]((_0x17c2de,_0xa63c9c)=>_0x17c2de+_0xa63c9c,0x0)/(_0x18f20c-0x2),_0x5b586d=Math[_0x567eb5(0xe1)](..._0x2a257b),_0x4fe80e=0x4,_0x47bd24=0xc;if(_0x51e560<_0x115f64-0x2&&_0x115f64<_0x47bd24){const _0x5a13cc=Math[_0x567eb5(0xb0)](_0x115f64-_0x51e560,_0x4fe80e);_0x3f631b+=_0x5a13cc*0x4;}if(_0x555ac6<_0x115f64-0x2&&_0x115f64<_0x47bd24){const _0x93bb97=Math[_0x567eb5(0xb0)](_0x115f64-_0x555ac6,_0x4fe80e);_0x3f631b+=_0x93bb97*0x3;}if(_0x5b586d>_0x115f64+0x3){const _0x156347=_0x5b586d-_0x115f64;_0x2951b7+=_0x156347*0xa;}const _0x12ee2c=new Set(_0x470881[_0x567eb5(0x9f)](_0x299bc3=>_0x299bc3['x']));if(_0x12ee2c[_0x567eb5(0xd2)](0x0)||_0x12ee2c[_0x567eb5(0xd2)](_0x18f20c-0x1)){const _0x2f2edb=_0x12ee2c[_0x567eb5(0xd2)](_0x18f20c-0x1)?_0x18f20c-0x1:0x0;(_0x2f2edb===0x0?_0x15e572[0x1]:_0x15e572[_0x18f20c-0x2])>_0x15e572[_0x2f2edb]+0x3&&(_0x2951b7+=0x1e);}return{'bonus':_0x3f631b,'penalty':_0x2951b7};}function ht(_0x81eb75){switch(_0x81eb75){case 0x1:return 0x64;case 0x2:return 0x12c;case 0x3:return 0x258;case 0x4:return 0x4b0;default:return _0x81eb75>0x4?0x4b0+(_0x81eb75-0x4)*0x190:0x0;}}function q(_0x2d503c,_0x5625f8=0xe){const _0x1050b4=a0_0x54cd69;let _0x346fba=0x0;for(let _0x1115da=0x0;_0x1115da<_0x5625f8;_0x1115da++)for(let _0x57530b=_0x2d503c[_0x1050b4(0xda)]-0x1;_0x57530b>=0x0;_0x57530b--)_0x2d503c[_0x57530b][_0x1115da];return _0x346fba;}function Z(_0x459282,_0x344c67=0xe){const _0x2abcfe=a0_0x54cd69,_0x2b652b=[];for(let _0x23d1f4=0x0;_0x23d1f4<_0x344c67;_0x23d1f4++){let _0x32e44d=0x0;for(let _0x83f1f7=_0x459282['length']-0x1;_0x83f1f7>=0x0;_0x83f1f7--)if(_0x459282[_0x83f1f7][_0x23d1f4]===0x1){_0x32e44d=_0x83f1f7+0x1;break;}_0x2b652b[_0x2abcfe(0xcc)](_0x32e44d);}let _0x54b45d=0x0,_0x2bcd7b=0x1;for(let _0x599f0c=0x1;_0x599f0c<_0x344c67;_0x599f0c++)Math[_0x2abcfe(0xab)](_0x2b652b[_0x599f0c]-_0x2b652b[_0x599f0c-0x1])<=0x1?_0x2bcd7b++:(_0x2bcd7b>=0x3&&(_0x54b45d+=_0x2bcd7b*_0x2bcd7b),_0x2bcd7b=0x1);return _0x2bcd7b>=0x3&&(_0x54b45d+=_0x2bcd7b*_0x2bcd7b),_0x54b45d;}function _t(_0x3b8874,_0x8bfc23=0xe){const _0x3ee757=a0_0x54cd69;let _0x5baca8=0x0;const _0x77b53d=[];for(let _0x222061=0x0;_0x222061<_0x8bfc23;_0x222061++){let _0x36bd97=0x0;for(let _0x1b9737=_0x3b8874[_0x3ee757(0xda)]-0x1;_0x1b9737>=0x0;_0x1b9737--)if(_0x3b8874[_0x1b9737][_0x222061]===0x1){_0x36bd97=_0x1b9737+0x1;break;}_0x77b53d['push'](_0x36bd97);}for(let _0x2385a9=0x0;_0x2385a9<_0x8bfc23;_0x2385a9++){const _0x47ea12=_0x2385a9>0x0?_0x77b53d[_0x2385a9-0x1]:_0x77b53d[_0x2385a9]+0xa,_0x285aae=_0x2385a9<_0x8bfc23-0x1?_0x77b53d[_0x2385a9+0x1]:_0x77b53d[_0x2385a9]+0xa,_0x550e08=_0x77b53d[_0x2385a9],_0xf88c0a=_0x47ea12-_0x550e08,_0x31a36d=_0x285aae-_0x550e08;if(_0xf88c0a>=0x3&&_0x31a36d>=0x3){const _0x420b55=Math['min'](_0xf88c0a,_0x31a36d);_0x420b55>=0x4?_0x5baca8+=_0x420b55*0x14:_0x5baca8+=_0x420b55*0x8;}}return _0x5baca8;}function yt(_0x136a76,_0x5349a1=0xe){const _0x56e2f8=a0_0x54cd69;let _0xbd4160=0x0;for(let _0x1d4aa4=0x0;_0x1d4aa4<_0x136a76[_0x56e2f8(0xda)];_0x1d4aa4++){let _0x598252=!0x1;for(let _0x615fac=0x0;_0x615fac<_0x5349a1;_0x615fac++)if(_0x136a76[_0x1d4aa4][_0x615fac]===0x1){_0x598252=!0x0;break;}if(!_0x598252)continue;let _0x1a402b=0x1;for(let _0x4351d9=0x0;_0x4351d9<_0x5349a1;_0x4351d9++){const _0x4ac605=_0x136a76[_0x1d4aa4][_0x4351d9];_0x4ac605!==_0x1a402b&&_0xbd4160++,_0x1a402b=_0x4ac605;}_0x1a402b!==0x1&&_0xbd4160++;}return _0xbd4160;}function Et(_0x16aee2){const _0x586299=a0_0x54cd69;switch(_0x16aee2){case I[_0x586299(0xe5)]:return 0x0;case I[_0x586299(0xce)]:return 0x1;case I[_0x586299(0xd4)]:return 0x2;case I['GOLD']:return 0x3;case I['DIAMOND']:return 0x4;default:return 0x0;}}function pt(_0x331414,_0x1c975f,_0x2e3312,_0x43661d=0xe){const _0x4613a8=a0_0x54cd69;let _0x31f8ca=0x0;const _0x82a2ee=[{'dx':-0x1,'dy':0x0},{'dx':0x1,'dy':0x0},{'dx':0x0,'dy':-0x1},{'dx':0x0,'dy':0x1}],_0x2828cb=new Set(_0x1c975f[_0x4613a8(0x9f)](_0x28138f=>_0x28138f['x']+','+_0x28138f['y']));for(const _0x53403c of _0x1c975f)for(const _0x40186f of _0x82a2ee){const _0x18a690=_0x53403c['x']+_0x40186f['dx'],_0xd083b5=_0x53403c['y']+_0x40186f['dy'];if(!_0x2828cb[_0x4613a8(0xd2)](_0x18a690+','+_0xd083b5)&&_0xd083b5>=0x0&&_0xd083b5<_0x331414[_0x4613a8(0xda)]&&_0x18a690>=0x0&&_0x18a690<_0x43661d){const _0x283edb=_0x331414[_0xd083b5][_0x18a690];_0x283edb&&_0x283edb[_0x4613a8(0xd6)]===_0x2e3312&&_0x31f8ca++;}}return _0x31f8ca;}function a0_0x474e(_0x2146fa,_0x4edbb6){_0x2146fa=_0x2146fa-0x98;const _0x3e1c42=a0_0x3e1c();let _0x474e2a=_0x3e1c42[_0x2146fa];return _0x474e2a;}function Lt(_0x56d446,_0x5d114d,_0xeb5d32,_0x1a0846=0xe,_0x1257db=0x1e){let _0x369f26=0x0;for(const _0x1d50b9 of _0x5d114d)for(let _0x393bbe=0x3;_0x393bbe<=0x6;_0x393bbe++){const _0x39a634=Ct(_0x56d446,_0x1d50b9,_0x393bbe,_0xeb5d32,_0x1a0846,_0x1257db);_0x369f26+=_0x39a634*(_0x393bbe===0x6?0x4:_0x393bbe===0x5?0x3:_0x393bbe===0x4?0x2:0x1);}return _0x369f26;}function Ct(_0xc5ff4e,_0x4242a1,_0x4c1db6,_0x4645ca,_0x266b1b,_0x249ab6){const _0xdcca77=a0_0x54cd69;let _0x1eaa0a=0x0;for(let _0x2d0ba3=Math['max'](0x0,_0x4242a1['y']-_0x4c1db6+0x1);_0x2d0ba3<=_0x4242a1['y'];_0x2d0ba3++)for(let _0x27b7f0=Math[_0xdcca77(0xe1)](0x0,_0x4242a1['x']-_0x4c1db6+0x1);_0x27b7f0<=_0x4242a1['x'];_0x27b7f0++){if(_0x27b7f0+_0x4c1db6>_0x266b1b||_0x2d0ba3+_0x4c1db6>_0x249ab6)continue;let _0x99464b=0x0;const _0x533608=_0x4c1db6*_0x4c1db6;for(let _0x2e09e2=_0x2d0ba3;_0x2e09e2<_0x2d0ba3+_0x4c1db6;_0x2e09e2++)for(let _0x1df2fb=_0x27b7f0;_0x1df2fb<_0x27b7f0+_0x4c1db6;_0x1df2fb++)if(_0x2e09e2<_0xc5ff4e['length']){const _0x3dfa8a=_0xc5ff4e[_0x2e09e2][_0x1df2fb];_0x3dfa8a&&_0x3dfa8a[_0xdcca77(0xd6)]===_0x4645ca&&_0x99464b++;}const _0x272e21=_0x99464b/_0x533608;if(_0x272e21>=0.3){const _0x48c3ea=_0x272e21*_0x272e21*0xa;_0x48c3ea>_0x1eaa0a&&(_0x1eaa0a=_0x48c3ea);}}return _0x1eaa0a;}function St(_0xb08bac,_0x70b956,_0x36431f,_0x5d955d=0xe){const _0x2bba14=a0_0x54cd69,_0x4127de=new Set();let _0x5049a0=0x0,_0x2f4d72=!0x1;const _0x30fabb=new Set(_0x70b956[_0x2bba14(0x9f)](_0x49050b=>_0x49050b['x']+','+_0x49050b['y'])),_0xb7206a=[{'dx':-0x1,'dy':0x0},{'dx':0x1,'dy':0x0},{'dx':0x0,'dy':-0x1},{'dx':0x0,'dy':0x1}];for(let _0x4d2208=0x0;_0x4d2208<_0xb08bac[_0x2bba14(0xda)];_0x4d2208++)for(let _0x3920c2=0x0;_0x3920c2<_0x5d955d;_0x3920c2++){const _0x5cb1f5=_0x3920c2+','+_0x4d2208;if(_0x4127de[_0x2bba14(0xd2)](_0x5cb1f5))continue;const _0x28d93f=_0xb08bac[_0x4d2208][_0x3920c2];if(_0x28d93f&&_0x28d93f[_0x2bba14(0xd6)]===_0x36431f){const _0x58f0e3=[],_0x338a08=new Set(),_0x288df5=[{'x':_0x3920c2,'y':_0x4d2208}];for(;_0x288df5[_0x2bba14(0xda)]>0x0;){const _0x4283c3=_0x288df5[_0x2bba14(0xbc)]();if(!_0x4283c3)continue;const _0x30b496=_0x4283c3['x']+','+_0x4283c3['y'];if(_0x338a08['has'](_0x30b496)||_0x4283c3['x']<0x0||_0x4283c3['x']>=_0x5d955d||_0x4283c3['y']<0x0||_0x4283c3['y']>=_0xb08bac[_0x2bba14(0xda)])continue;const _0x1401be=_0xb08bac[_0x4283c3['y']][_0x4283c3['x']];!_0x1401be||_0x1401be['color']!==_0x36431f||(_0x338a08[_0x2bba14(0x99)](_0x30b496),_0x4127de[_0x2bba14(0x99)](_0x30b496),_0x58f0e3[_0x2bba14(0xcc)](_0x4283c3),_0x288df5['push']({'x':_0x4283c3['x']-0x1,'y':_0x4283c3['y']}),_0x288df5['push']({'x':_0x4283c3['x']+0x1,'y':_0x4283c3['y']}),_0x288df5['push']({'x':_0x4283c3['x'],'y':_0x4283c3['y']-0x1}),_0x288df5['push']({'x':_0x4283c3['x'],'y':_0x4283c3['y']+0x1}));}const _0x38d204=_0x58f0e3[_0x2bba14(0xda)];_0x38d204>_0x5049a0&&(_0x5049a0=_0x38d204,_0x2f4d72=_0x58f0e3['some'](_0x33f4f4=>{for(const _0x490a9b of _0xb7206a){const _0x3b7030=_0x33f4f4['x']+_0x490a9b['dx'],_0x4177c4=_0x33f4f4['y']+_0x490a9b['dy'];if(_0x30fabb['has'](_0x3b7030+','+_0x4177c4))return!0x0;}return!0x1;}));}}return _0x2f4d72&&_0x5049a0>=0x4?Math['sqrt'](_0x5049a0)*0x3:0x0;}function mt(_0x334917,_0x59559a,_0x4fa714,_0x37b69d=0xe){const _0x2fa24a=a0_0x54cd69;let _0x261692=0x0;const _0x5616bc=0x3;for(const _0x17103c of _0x59559a)for(let _0x2820c6=-_0x5616bc;_0x2820c6<=_0x5616bc;_0x2820c6++)for(let _0x50bd17=-_0x5616bc;_0x50bd17<=_0x5616bc;_0x50bd17++){const _0xe1391e=_0x17103c['x']+_0x50bd17,_0x3c7487=_0x17103c['y']+_0x2820c6;if(_0xe1391e<0x0||_0xe1391e>=_0x37b69d||_0x3c7487<0x0||_0x3c7487>=_0x334917[_0x2fa24a(0xda)])continue;const _0x3b72c3=_0x334917[_0x3c7487][_0xe1391e];if(_0x3b72c3&&_0x3b72c3[_0x2fa24a(0xd6)]===_0x4fa714){const _0x5d2121=Et(_0x3b72c3[_0x2fa24a(0xcf)]);if(_0x5d2121>0x0){const _0x575138=Math['abs'](_0x50bd17)+Math[_0x2fa24a(0xab)](_0x2820c6),_0x6c5e79=(_0x5616bc+0x1-_0x575138)/_0x5616bc;_0x261692+=_0x5d2121*_0x6c5e79*0x5;}}}return _0x261692;}function xt(_0x54af7e,_0x3c0509,_0x1ed3f7,_0x2392f2,_0x54496d=0xe,_0x31886b=0x1e){let _0x11e133=0x0;const _0x5c12d=pt(_0x54af7e,_0x3c0509,_0x1ed3f7,_0x54496d);_0x11e133+=_0x5c12d*0x2;const _0x9ab17=Lt(_0x54af7e,_0x3c0509,_0x1ed3f7,_0x54496d,_0x31886b);_0x11e133+=_0x9ab17;const _0x2c07ab=St(_0x54af7e,_0x3c0509,_0x1ed3f7,_0x54496d);_0x11e133+=_0x2c07ab,_0x2392f2<0x1e&&(_0x11e133*=1.5);const _0x55fae9=mt(_0x54af7e,_0x3c0509,_0x1ed3f7,_0x54496d);return _0x11e133+=_0x55fae9,_0x11e133;}function j(_0x43ab89,_0x1d9b96,_0x2e4b80,_0x325f77,_0x16d587,_0x2284e0,_0x111c2b=0xe,_0x42f448=0x1e){const _0x34388f=a0_0x54cd69,_0x37678a=_0x325f77[_0x34388f(0x9f)](_0x23ae05=>[..._0x23ae05]),_0x222971=_0x16d587[_0x34388f(0x9f)](_0xbc4b24=>[..._0xbc4b24]),_0x44955f=H(_0x43ab89,_0x1d9b96,_0x2e4b80);for(const _0x19a83d of _0x44955f)_0x19a83d['y']>=0x0&&_0x19a83d['y']<_0x37678a['length']&&_0x19a83d['x']>=0x0&&_0x19a83d['x']<_0x111c2b&&(_0x37678a[_0x19a83d['y']][_0x19a83d['x']]=0x1,_0x222971[_0x19a83d['y']][_0x19a83d['x']]={'color':_0x2284e0,'tier':I['NORMAL']});const _0x3ce4f8=We(_0x37678a,_0x111c2b),_0x201baf=B(_0x325f77,_0x111c2b),_0x5cb9f8=B(_0x37678a,_0x111c2b),_0x4895f8=Math['max'](0x0,_0x201baf-_0x5cb9f8),_0x2ccd22=Math[_0x34388f(0xe1)](0x0,_0x5cb9f8-_0x201baf),_0x32dea7=nt(_0x37678a,_0x111c2b),_0x14bf4f=ot(_0x37678a),_0x277026=st(_0x37678a,_0x111c2b),_0xefa032=lt(_0x37678a,_0x111c2b,_0x42f448),_0x11054f=d(_0x325f77,_0x111c2b),_0x5e9a25=d(_0x37678a,_0x111c2b),_0x57044e=V(_0x325f77,_0x111c2b),_0x450b14=V(_0x37678a,_0x111c2b),_0xb8cf03=et(_0x325f77,_0x44955f,_0x111c2b),_0x2014cc=gt(_0x37678a,_0x111c2b),_0x4dc5d6=tt(_0x325f77,_0x2014cc,_0x3ce4f8,_0x111c2b),_0x18383e=rt(_0x325f77,_0x44955f,_0x111c2b),_0x4eb055=xt(_0x222971,_0x44955f,_0x2284e0,_0xefa032,_0x111c2b,_0x42f448),_0x1f051b=ft(_0x325f77,_0x44955f,_0x111c2b),_0x453d87=at(_0x325f77,_0x44955f,_0x111c2b),_0x40ec70=it(_0x37678a,_0x44955f,_0x111c2b),_0x1d4493=ut(_0x37678a,_0x44955f,_0x111c2b),_0x3a7445=ht(_0x3ce4f8),_0x39343d=q(_0x37678a,_0x111c2b),_0x7e0330=q(_0x325f77,_0x111c2b),_0x55f398=Z(_0x37678a,_0x111c2b),_0x5f3d2c=Z(_0x325f77,_0x111c2b),_0x4d2a3b=_0x55f398-_0x5f3d2c,_0x47edaf=_t(_0x37678a,_0x111c2b),_0x64661a=yt(_0x37678a,_0x111c2b),_0x19613f=ct(_0x37678a,_0x111c2b),_0xa84e80=_0x42f448*0.5,_0xf8cbcd=Math[_0x34388f(0xb0)](0x1,Math['max'](0x0,(_0x14bf4f-_0xa84e80)/(_0x42f448-_0xa84e80))),_0x587c8e=Math[_0x34388f(0xb0)](0x1,_0x201baf/0x8),_0x4ab203=Math['min'](0x1,_0x11054f/0xa),_0x59171d=Math['max'](_0x587c8e,_0x4ab203*0.8),_0x1b5718=Math[_0x34388f(0xb0)](0x1,_0xf8cbcd+_0x59171d*0.5),_0x1d4dee=m(0x1e,0x2,_0x1b5718),_0x20e4f8=m(0x5dc,0xfa0,_0x1b5718),_0x1397bd=m(0x320,0x9c4,_0x1b5718),_0x48b2b3=m(0x3e8,0xbb8,_0x1b5718),_0x45e907=m(0x190,0x4b0,_0x1b5718),_0x5552a8=m(0x64,0x1f4,_0x1b5718),_0x5ce7a6=m(0x8,0x64,_0xf8cbcd),_0x175525=m(0x28,0xf,_0x1b5718),_0xff4a6f=m(0xf,0x5,_0x1b5718),_0x4437e3=m(0xc8,0x258,_0x1b5718),_0x2fa0ab=m(0xc8,0x1f4,_0x1b5718),_0x591ac9=m(0x1,2.5,_0x59171d),_0x3503bf=m(0x14,0xa,_0x1b5718),_0x292a08=m(0x32,0x64,_0x1b5718),_0x5d5eab=m(0x50,0x96,_0x1b5718),_0x5cc2e7=m(0xf,0x3,_0x1b5718),_0x3068ca=m(1.5,0x1,_0x1b5718),_0x23f74b=m(0x64,0xfa,_0x1b5718),_0x328415=m(0x14,0x8,_0x1b5718),_0x364c9e=m(0x32,0x78,_0x1b5718),_0x547897=m(0xf,0x6,_0x1b5718),_0x3e33b8=m(0x3c,0x1e,_0x1b5718),_0x1802e1=Math[_0x34388f(0xe1)](0x0,_0x11054f-_0x5e9a25),_0x403de6=Math['max'](0x0,_0x5e9a25-_0x11054f),_0x325e5c=Math[_0x34388f(0xe1)](0x0,_0x57044e-_0x450b14),_0x3c6e11=Math[_0x34388f(0xe1)](0x0,_0x450b14-_0x57044e),_0x572a36=Math[_0x34388f(0xe1)](0x0,_0x39343d-_0x7e0330);return{'score':_0x3a7445*_0x3068ca+_0x4895f8*_0x45e907+_0x4dc5d6*_0x591ac9+_0x18383e*_0x5552a8+_0x1f051b*_0x3503bf+_0x453d87*_0x292a08+_0x1d4493[_0x34388f(0xaa)]*_0x5cc2e7+_0x4d2a3b*_0x328415+_0x1802e1*_0x4437e3+_0x325e5c*_0x2fa0ab+_0x4eb055*_0x1d4dee+-_0xb8cf03*_0x48b2b3+-_0x40ec70*_0x5d5eab+-_0x1d4493[_0x34388f(0x9e)]*_0x5cc2e7+-_0x2ccd22*_0x20e4f8+-_0x5cb9f8*_0x1397bd+-_0x403de6*_0x4437e3*1.5+-_0x3c6e11*_0x2fa0ab+-_0x572a36*_0x23f74b+-_0x47edaf*_0x364c9e+-_0x64661a*_0x547897+-_0x19613f*_0x3e33b8+-_0x32dea7*_0x175525+-_0x14bf4f*_0x5ce7a6+-_0x277026*_0xff4a6f,'linesCleared':_0x3ce4f8,'colorBonusScore':_0x4eb055};}function gt(_0x40ffd0,_0x9edacc=0xe){const _0x349950=a0_0x54cd69,_0x10f2d8=_0x40ffd0[_0x349950(0x9f)](_0xe6dfa7=>[..._0xe6dfa7]),_0x335b63=[];for(let _0x1ace24=0x0;_0x1ace24<_0x10f2d8[_0x349950(0xda)];_0x1ace24++){let _0x285be=!0x0;for(let _0x5c7e00=0x0;_0x5c7e00<_0x9edacc;_0x5c7e00++)if(_0x10f2d8[_0x1ace24][_0x5c7e00]!==0x1){_0x285be=!0x1;break;}_0x285be&&_0x335b63[_0x349950(0xcc)](_0x1ace24);}_0x335b63['sort']((_0x369565,_0x35f1f3)=>_0x35f1f3-_0x369565);for(const _0x183671 of _0x335b63){for(let _0x4ad595=_0x183671;_0x4ad595<_0x10f2d8[_0x349950(0xda)]-0x1;_0x4ad595++)_0x10f2d8[_0x4ad595]=[..._0x10f2d8[_0x4ad595+0x1]];_0x10f2d8[_0x10f2d8[_0x349950(0xda)]-0x1]=Array(_0x9edacc)[_0x349950(0xba)](0x0);}return _0x10f2d8;}function Rt(_0x5f59f5,_0x45b24b=0xe,_0x576223=0x1e){const _0x341eb3=a0_0x54cd69;return Array[_0x341eb3(0xe6)]({'length':_0x576223+0xa},(_0x5abe58,_0x4ef2e6)=>_0x4ef2e6<_0x5f59f5[_0x341eb3(0xda)]?[..._0x5f59f5[_0x4ef2e6]]:Array(_0x45b24b)[_0x341eb3(0xba)](0x0));}function Ot(_0xf228c0,_0x39072e=0xe,_0x434267=0x1e){const _0x42b175=a0_0x54cd69;return Array[_0x42b175(0xe6)]({'length':_0x434267+0xa},(_0x33b1c6,_0x2f4a51)=>_0x2f4a51<_0xf228c0[_0x42b175(0xda)]?[..._0xf228c0[_0x2f4a51]]:Array(_0x39072e)[_0x42b175(0xba)](null));}function T(_0x1f8330,_0x1bed4e,_0x1d3cd4,_0x3f1e1b,_0x33144f,_0x47f586){const _0x2d473c=a0_0x54cd69,_0x1a91cb=H(_0x1f8330,_0x1bed4e,_0x1d3cd4);for(const _0x2eecfc of _0x1a91cb)if(_0x2eecfc['x']<0x0||_0x2eecfc['x']>=_0x33144f||_0x2eecfc['y']<0x0||_0x2eecfc['y']>=_0x47f586||_0x2eecfc['y']<_0x3f1e1b[_0x2d473c(0xda)]&&_0x3f1e1b[_0x2eecfc['y']][_0x2eecfc['x']]===0x1)return!0x1;return!0x0;}function Nt(_0x49c675,_0x3a9725,_0x1c4e84,_0x1f622a,_0x3424f7){const _0x1b674c=a0_0x54cd69,_0x41908d=H(_0x49c675,_0x3a9725,_0x1c4e84);for(const _0x5100be of _0x41908d){if(_0x5100be['y']===0x0)return!0x0;const _0x4d9685=_0x5100be['y']-0x1;if(_0x4d9685>=0x0&&_0x4d9685<_0x1f622a[_0x1b674c(0xda)]&&_0x5100be['x']>=0x0&&_0x5100be['x']<_0x3424f7&&_0x1f622a[_0x4d9685][_0x5100be['x']]===0x1&&!_0x41908d['some'](_0x38732c=>_0x38732c['x']===_0x5100be['x']&&_0x38732c['y']===_0x4d9685))return!0x0;}return!0x1;}function Ht(_0x5df1bb,_0x624e15,_0x3f6429,_0x20a66c,_0x25795a){const _0x4c751d=a0_0x54cd69,_0x3daedc=[],_0x57567d=new Set();for(let _0x4208d6=0x0;_0x4208d6<_0x20a66c;_0x4208d6++){if(!H(_0x5df1bb,_0x4208d6,_0x25795a)[_0x4c751d(0xc5)](_0x110654=>_0x110654['x']>=0x0&&_0x110654['x']<_0x20a66c))continue;const _0x59fbb1=G(_0x5df1bb,_0x4208d6,_0x3f6429,_0x20a66c,_0x25795a);if(_0x59fbb1<0x0)continue;const _0x447e1b=[{'x':_0x4208d6,'y':_0x59fbb1}],_0x336f6e=new Set();for(_0x336f6e['add'](_0x4208d6+','+_0x59fbb1);_0x447e1b['length']>0x0;){const _0x106676=_0x447e1b[_0x4c751d(0xac)]();if(!_0x106676)continue;const _0x10adc9=_0x106676['x']-0x1,_0x5bf7c1=_0x10adc9+','+_0x106676['y'];if(!_0x336f6e[_0x4c751d(0xd2)](_0x5bf7c1)&&T(_0x5df1bb,_0x10adc9,_0x106676['y'],_0x3f6429,_0x20a66c,_0x25795a)){_0x336f6e[_0x4c751d(0x99)](_0x5bf7c1),_0x447e1b[_0x4c751d(0xcc)]({'x':_0x10adc9,'y':_0x106676['y']});let _0x9e9d26=_0x106676['y'];for(;_0x9e9d26>0x0&&T(_0x5df1bb,_0x10adc9,_0x9e9d26-0x1,_0x3f6429,_0x20a66c,_0x25795a);){_0x9e9d26--;const _0x200399=_0x10adc9+','+_0x9e9d26;_0x336f6e['has'](_0x200399)||(_0x336f6e['add'](_0x200399),_0x447e1b[_0x4c751d(0xcc)]({'x':_0x10adc9,'y':_0x9e9d26}));}}const _0x19f3c5=_0x106676['x']+0x1,_0xdb51d0=_0x19f3c5+','+_0x106676['y'];if(!_0x336f6e['has'](_0xdb51d0)&&T(_0x5df1bb,_0x19f3c5,_0x106676['y'],_0x3f6429,_0x20a66c,_0x25795a)){_0x336f6e[_0x4c751d(0x99)](_0xdb51d0),_0x447e1b[_0x4c751d(0xcc)]({'x':_0x19f3c5,'y':_0x106676['y']});let _0x53c54a=_0x106676['y'];for(;_0x53c54a>0x0&&T(_0x5df1bb,_0x19f3c5,_0x53c54a-0x1,_0x3f6429,_0x20a66c,_0x25795a);){_0x53c54a--;const _0x3e0a75=_0x19f3c5+','+_0x53c54a;_0x336f6e[_0x4c751d(0xd2)](_0x3e0a75)||(_0x336f6e[_0x4c751d(0x99)](_0x3e0a75),_0x447e1b[_0x4c751d(0xcc)]({'x':_0x19f3c5,'y':_0x53c54a}));}}}for(const _0x4ed659 of _0x336f6e){if(_0x57567d[_0x4c751d(0xd2)](_0x4ed659))continue;const [_0x4aa765,_0x1e3bd7]=_0x4ed659['split'](',')[_0x4c751d(0x9f)](Number);Nt(_0x5df1bb,_0x4aa765,_0x1e3bd7,_0x3f6429,_0x20a66c)&&(_0x57567d[_0x4c751d(0x99)](_0x4ed659),_0x3daedc[_0x4c751d(0xcc)]({'x':_0x4aa765,'y':_0x1e3bd7}));}}return _0x3daedc;}function D(_0xc17844,_0x393413,_0x3500be,_0x14bc99=0xe,_0xdf4166=0x1e){const _0x3b381d=a0_0x54cd69,_0x228c3a=[],_0x3a05ba=new Set(),_0x449b76=[0x0,0x5a,0xb4,0x10e];for(const _0x322dfa of _0x449b76){const _0x1eb4f2=J(_0xc17844[_0x3b381d(0xcd)],_0x322dfa);for(let _0x2fa2d7=0x0;_0x2fa2d7<_0x14bc99;_0x2fa2d7++){if(!H(_0x1eb4f2,_0x2fa2d7,_0xdf4166)[_0x3b381d(0xc5)](_0x4b4a7e=>_0x4b4a7e['x']>=0x0&&_0x4b4a7e['x']<_0x14bc99))continue;const _0x3cb7c7=G(_0x1eb4f2,_0x2fa2d7,_0x393413,_0x14bc99,_0xdf4166);if(_0x3cb7c7<0x0)continue;const _0x3270e4=_0x2fa2d7+','+_0x3cb7c7+','+_0x322dfa;if(_0x3a05ba['has'](_0x3270e4))continue;const _0x19d780=H(_0x1eb4f2,_0x2fa2d7,_0x3cb7c7);if(_0x19d780['some'](_0x792ede=>_0x792ede['y']<_0x393413[_0x3b381d(0xda)]&&_0x792ede['y']>=0x0&&_0x393413[_0x792ede['y']][_0x792ede['x']]===0x1)||_0x19d780[_0x3b381d(0xa1)](_0x210067=>_0x210067['y']>=_0xdf4166))continue;_0x3a05ba[_0x3b381d(0x99)](_0x3270e4);const _0x1a1e90=j(_0x1eb4f2,_0x2fa2d7,_0x3cb7c7,_0x393413,_0x3500be,_0xc17844[_0x3b381d(0xd6)],_0x14bc99,_0xdf4166);_0x228c3a['push']({'x':_0x2fa2d7,'y':_0x3cb7c7,'rotation':_0x322dfa,'score':_0x1a1e90['score'],'linesCleared':_0x1a1e90[_0x3b381d(0xd8)],'colorBonusScore':_0x1a1e90[_0x3b381d(0xc4)]});}const _0x20d4c5=Ht(_0x1eb4f2,_0x322dfa,_0x393413,_0x14bc99,_0xdf4166);for(const _0x52dffd of _0x20d4c5){const _0x19bc20=_0x52dffd['x']+','+_0x52dffd['y']+','+_0x322dfa;if(_0x3a05ba['has'](_0x19bc20)||H(_0x1eb4f2,_0x52dffd['x'],_0x52dffd['y'])[_0x3b381d(0xa1)](_0x2248e8=>_0x2248e8['y']>=_0xdf4166))continue;_0x3a05ba['add'](_0x19bc20);const _0x539d3c=j(_0x1eb4f2,_0x52dffd['x'],_0x52dffd['y'],_0x393413,_0x3500be,_0xc17844[_0x3b381d(0xd6)],_0x14bc99,_0xdf4166);_0x228c3a['push']({'x':_0x52dffd['x'],'y':_0x52dffd['y'],'rotation':_0x322dfa,'score':_0x539d3c[_0x3b381d(0xca)],'linesCleared':_0x539d3c['linesCleared'],'colorBonusScore':_0x539d3c[_0x3b381d(0xc4)]});}}return _0x228c3a;}function b(_0x34351c,_0xcec196,_0x4afff8,_0x4b11c8,_0x3b5b03,_0x494322=0xe,_0x2b6d56=0x1e,_0x5a7774){const _0x135f1a=a0_0x54cd69,_0x5a0d03=J(_0x34351c[_0x135f1a(0xcd)],_0x4afff8),_0x2f37bb=_0x5a7774??G(_0x5a0d03,_0xcec196,_0x4b11c8,_0x494322,_0x2b6d56),_0x126e02=H(_0x5a0d03,_0xcec196,_0x2f37bb),_0x578d72=_0x4b11c8[_0x135f1a(0x9f)](_0x802141=>[..._0x802141]),_0x280154=_0x3b5b03[_0x135f1a(0x9f)](_0x2921e9=>[..._0x2921e9]);for(const _0x50890c of _0x126e02)_0x50890c['y']>=0x0&&_0x50890c['y']<_0x578d72[_0x135f1a(0xda)]&&_0x50890c['x']>=0x0&&_0x50890c['x']<_0x494322&&(_0x578d72[_0x50890c['y']][_0x50890c['x']]=0x1,_0x280154[_0x50890c['y']][_0x50890c['x']]={'color':_0x34351c[_0x135f1a(0xd6)],'tier':I[_0x135f1a(0xe5)]});const _0x3e1c12=[];for(let _0x348179=0x0;_0x348179<_0x578d72[_0x135f1a(0xda)];_0x348179++){let _0x2e56a9=!0x0;for(let _0x21558a=0x0;_0x21558a<_0x494322;_0x21558a++)if(_0x578d72[_0x348179][_0x21558a]!==0x1){_0x2e56a9=!0x1;break;}_0x2e56a9&&_0x3e1c12['push'](_0x348179);}if(_0x3e1c12[_0x135f1a(0xda)]>0x0){_0x3e1c12[_0x135f1a(0xc0)]((_0x2f3e51,_0x2f5f9c)=>_0x2f5f9c-_0x2f3e51);for(const _0x49c9a0 of _0x3e1c12){for(let _0x2d03a6=_0x49c9a0;_0x2d03a6<_0x578d72[_0x135f1a(0xda)]-0x1;_0x2d03a6++)_0x578d72[_0x2d03a6]=[..._0x578d72[_0x2d03a6+0x1]],_0x280154[_0x2d03a6]=[..._0x280154[_0x2d03a6+0x1]];_0x578d72[_0x578d72[_0x135f1a(0xda)]-0x1]=Array(_0x494322)['fill'](0x0),_0x280154[_0x280154['length']-0x1]=Array(_0x494322)[_0x135f1a(0xba)](null);}}return{'newGridMatrix':_0x578d72,'newColorMatrix':_0x280154,'linesCleared':_0x3e1c12[_0x135f1a(0xda)]};}const U=0x8,It=0.7,wt=0.5,Dt=0x5;function Q(_0x8bfe8f){const _0x4b16c9=a0_0x54cd69;if(_0x8bfe8f['powerUps']['length']===0x0)return null;const _0x24e5d4=_0x8bfe8f['maxHeight']/_0x8bfe8f['gridHeight'],_0x3a274f=Math['floor'](_0x8bfe8f[_0x4b16c9(0xd8)]/0xa)+0x1,_0x344670=_0x24e5d4>=It,_0x3c7f08=_0x24e5d4>=wt,_0x2b5f59=_0x3a274f>=Dt;for(let _0x1c6668=0x0;_0x1c6668<_0x8bfe8f['powerUps'][_0x4b16c9(0xda)];_0x1c6668++)switch(_0x8bfe8f[_0x4b16c9(0xe8)][_0x1c6668]){case N[_0x4b16c9(0xd7)]:case N[_0x4b16c9(0xa6)]:case N[_0x4b16c9(0xb4)]:case N[_0x4b16c9(0xe0)]:case N[_0x4b16c9(0xc7)]:return _0x1c6668;}for(let _0x11e5fe=0x0;_0x11e5fe<_0x8bfe8f[_0x4b16c9(0xe8)]['length'];_0x11e5fe++)switch(_0x8bfe8f[_0x4b16c9(0xe8)][_0x11e5fe]){case N[_0x4b16c9(0xb6)]:if(_0x344670)return _0x11e5fe;break;case N[_0x4b16c9(0xcb)]:if(_0x3c7f08)return _0x11e5fe;break;case N[_0x4b16c9(0xa3)]:if(_0x2b5f59)return _0x11e5fe;break;case N[_0x4b16c9(0xdd)]:if(_0x8bfe8f['hasBlackOrWhiteBlocks'])return _0x11e5fe;break;case N[_0x4b16c9(0xa7)]:if(_0x8bfe8f[_0x4b16c9(0xe8)][_0x4b16c9(0xda)]>=0x3)return _0x11e5fe;break;}return null;}function Tt(_0x184ffa){const _0xded89=a0_0x54cd69,_0xd294e7=Rt(_0x184ffa[_0xded89(0xa5)],_0x184ffa['gridWidth'],_0x184ffa[_0xded89(0xa4)]),_0x262470=Ot(_0x184ffa[_0xded89(0xd5)],_0x184ffa[_0xded89(0xae)],_0x184ffa[_0xded89(0xa4)]),_0x11669f=D(_0x184ffa[_0xded89(0xd0)],_0xd294e7,_0x262470,_0x184ffa[_0xded89(0xae)],_0x184ffa[_0xded89(0xa4)]);if(_0x11669f['length']===0x0)return{'x':Math['floor'](_0x184ffa['gridWidth']/0x2),'y':_0x184ffa['gridHeight']-0x1,'rotation':0x0,'shouldSwap':!0x1,'score':-0x1/0x0,'simulations':0x0,'usePowerUpIndex':Q(_0x184ffa)};_0x11669f['sort']((_0x4b86b1,_0x30ac64)=>_0x30ac64[_0xded89(0xca)]-_0x4b86b1[_0xded89(0xca)]);const _0x281c49=_0x11669f[_0xded89(0xb2)](0x0,U);let _0x4d6fed=null,_0x4167a0=-0x1/0x0;for(const _0x57fc9c of _0x281c49){const {newGridMatrix:_0xafb607,newColorMatrix:_0x4ac3cd,linesCleared:_0x219f1b}=b(_0x184ffa['currentBlock'],_0x57fc9c['x'],_0x57fc9c[_0xded89(0xde)],_0xd294e7,_0x262470,_0x184ffa['gridWidth'],_0x184ffa['gridHeight'],_0x57fc9c['y']),_0x4e6915=D(_0x184ffa[_0xded89(0xe3)],_0xafb607,_0x4ac3cd,_0x184ffa[_0xded89(0xae)],_0x184ffa['gridHeight']);let _0x4e1f18=0x0;if(_0x4e6915[_0xded89(0xda)]>0x0){if(_0x4e6915[_0xded89(0xc0)]((_0x484420,_0x2ed621)=>_0x2ed621[_0xded89(0xca)]-_0x484420[_0xded89(0xca)]),_0x4e1f18=_0x4e6915[0x0][_0xded89(0xca)],_0x4e6915['length']>0x0){const {newGridMatrix:_0x28251f,newColorMatrix:_0x10f88d}=b(_0x184ffa[_0xded89(0xe3)],_0x4e6915[0x0]['x'],_0x4e6915[0x0][_0xded89(0xde)],_0xafb607,_0x4ac3cd,_0x184ffa[_0xded89(0xae)],_0x184ffa['gridHeight'],_0x4e6915[0x0]['y']),_0x38de05=D(_0x184ffa[_0xded89(0xaf)],_0x28251f,_0x10f88d,_0x184ffa[_0xded89(0xae)],_0x184ffa[_0xded89(0xa4)]);_0x38de05[_0xded89(0xda)]>0x0&&(_0x38de05[_0xded89(0xc0)]((_0x49976c,_0x3b151c)=>_0x3b151c[_0xded89(0xca)]-_0x49976c[_0xded89(0xca)]),_0x4e1f18+=_0x38de05[0x0][_0xded89(0xca)]*0.5);}}else _0x4e1f18=-0x2710;const _0x4cb4b4=_0x57fc9c[_0xded89(0xca)]+_0x4e1f18*0.7+_0x219f1b*0x1f4;_0x4cb4b4>_0x4167a0&&(_0x4167a0=_0x4cb4b4,_0x4d6fed=_0x57fc9c);}let _0x4daaf3=!0x1;const _0x507779=D(_0x184ffa[_0xded89(0xc3)],_0xd294e7,_0x262470,_0x184ffa[_0xded89(0xae)],_0x184ffa[_0xded89(0xa4)]);if(_0x507779[_0xded89(0xda)]>0x0){_0x507779[_0xded89(0xc0)]((_0x3695aa,_0x40cc25)=>_0x40cc25[_0xded89(0xca)]-_0x3695aa['score']);const _0x4faff9=_0x507779[_0xded89(0xb2)](0x0,U);let _0x5aaf2f=-0x1/0x0,_0x1a8d3a=null;for(const _0x1c514a of _0x4faff9){const {newGridMatrix:_0x10ef86,newColorMatrix:_0x4a209f,linesCleared:_0x20e5cf}=b(_0x184ffa[_0xded89(0xc3)],_0x1c514a['x'],_0x1c514a[_0xded89(0xde)],_0xd294e7,_0x262470,_0x184ffa[_0xded89(0xae)],_0x184ffa[_0xded89(0xa4)],_0x1c514a['y']),_0x40d2cc=D(_0x184ffa['nextBlock'],_0x10ef86,_0x4a209f,_0x184ffa['gridWidth'],_0x184ffa[_0xded89(0xa4)]);let _0x1a4dbc=0x0;_0x40d2cc[_0xded89(0xda)]>0x0?(_0x40d2cc[_0xded89(0xc0)]((_0xdc510c,_0x4ff9b7)=>_0x4ff9b7[_0xded89(0xca)]-_0xdc510c[_0xded89(0xca)]),_0x1a4dbc=_0x40d2cc[0x0][_0xded89(0xca)]):_0x1a4dbc=-0x2710;const _0x5dc817=_0x1c514a[_0xded89(0xca)]+_0x1a4dbc*0.7+_0x20e5cf*0x1f4;_0x5dc817>_0x5aaf2f&&(_0x5aaf2f=_0x5dc817,_0x1a8d3a=_0x1c514a);}_0x5aaf2f>_0x4167a0+0xc8&&_0x1a8d3a&&(_0x4daaf3=!0x0,_0x4d6fed=_0x1a8d3a,_0x4167a0=_0x5aaf2f);}_0x4d6fed||(_0x4d6fed=_0x11669f[0x0]);const _0x1d27cf=Q(_0x184ffa);return{'x':_0x4d6fed['x'],'y':_0x4d6fed['y'],'rotation':_0x4d6fed[_0xded89(0xde)],'shouldSwap':_0x4daaf3,'score':_0x4167a0,'simulations':_0x281c49[_0xded89(0xda)]*U,'usePowerUpIndex':_0x1d27cf};}self['onmessage']=_0x2da97e=>{const _0x4e233b=a0_0x54cd69,_0x47284d=_0x2da97e[_0x4e233b(0xad)];switch(_0x47284d[_0x4e233b(0xc1)]){case _0x4e233b(0xc2):{try{const _0x2ac203={'type':_0x4e233b(0x9a),'placement':Tt(_0x47284d[_0x4e233b(0xb3)])};self[_0x4e233b(0xa8)](_0x2ac203);}catch(_0x10c2bf){const _0x167e1b={'type':_0x4e233b(0xb8),'message':_0x10c2bf instanceof Error?_0x10c2bf[_0x4e233b(0xc9)]:'Unknown\x20error'};self[_0x4e233b(0xa8)](_0x167e1b);}break;}}},self[a0_0x54cd69(0xa8)]({'type':a0_0x54cd69(0xc8)});